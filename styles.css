/* ========================================
   GOINGDARK - WORKING REALISTIC MODES
   Simplified but effective
======================================== */

/* === COMMON BASE === */
.goingdark-active {
    background-color: #080808 !important;
}

.goingdark-active * {
    background-color: inherit !important;
}

/* === 1. GREEN MODE - Night Vision === */
.goingdark-mode-green {
    filter: 
        brightness(0.6)
        contrast(1.8)
        grayscale(1)
        sepia(0.8)
        hue-rotate(85deg)
        saturate(3) !important;
    
    position: relative;
}

/* Simple green overlay */
.goingdark-mode-green::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        radial-gradient(
            circle at center,
            transparent 30%,
            rgba(0, 40, 0, 0.5) 70%,
            rgba(0, 20, 0, 0.7) 100%
        );
    pointer-events: none;
    z-index: 999999;
    mix-blend-mode: multiply;
}

/* Scan lines */
.goingdark-mode-green::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 60, 0, 0.1) 2px,
        rgba(0, 60, 0, 0.1) 3px
    );
    pointer-events: none;
    z-index: 999998;
}

/* === 2. BLACK & WHITE MODE - TV Static === */
.goingdark-mode-bw {
    filter: 
        grayscale(1)
        contrast(2)
        brightness(0.7) !important;
    
    position: relative;
}

/* TV static */
.goingdark-mode-bw::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="3"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.15"/></svg>');
    pointer-events: none;
    z-index: 999999;
    mix-blend-mode: overlay;
}

/* Scan lines */
.goingdark-mode-bw::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.1),
        rgba(0, 0, 0, 0.1) 1px,
        transparent 1px,
        transparent 2px
    );
    pointer-events: none;
    z-index: 999998;
}

/* === 3. CYAN MODE - Surveillance Grid === */
.goingdark-mode-cyan {
    filter: 
        grayscale(1)
        sepia(0.7)
        hue-rotate(180deg)
        saturate(2.5)
        brightness(0.8) !important;
    
    position: relative;
}

/* Grid overlay */
.goingdark-mode-cyan::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        linear-gradient(rgba(0, 100, 150, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 100, 150, 0.1) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 999999;
    mix-blend-mode: overlay;
}

/* Scanning line */
.goingdark-mode-cyan::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, 
        transparent,
        rgba(0, 200, 255, 0.8),
        transparent
    );
    box-shadow: 0 0 10px rgba(0, 200, 255, 0.5);
    pointer-events: none;
    z-index: 1000000;
    animation: scan 3s linear infinite;
}

@keyframes scan {
    0% { top: 0%; }
    100% { top: 100%; }
}

/* === FIXES === */
/* Ensure filters apply to images */
.goingdark-active img,
.goingdark-active video {
    filter: inherit !important;
}

/* Dark text */
.goingdark-active {
    color: #bbb !important;
}

.goingdark-active * {
    color: inherit !important;
}

/* Remove light backgrounds */
.goingdark-active {
    background-image: none !important;
}